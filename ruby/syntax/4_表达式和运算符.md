# 表达式和操作符

### 字面量和关键字字面量

字面量即诸如`1.0` / `hello world` / `[ … ]`的值。

关键字 | 作用
---- | ----
nil | 值为nil，属于NilClass类
true | 值为TrueClass的单键实例，代表布尔值true的对象
false | 值为FalseClass的单键实例，代表布尔值false的对象
self | 值为当前对象
`__FILE__` | 值为字符串，包含Ruby解释器正在执行的文件名
`__LINE__` | 值为整数，当前代码行数
`__ENCODING__` | 值为Encoding对象，当前代码编码

### 变量引用

* 四类变量

    1. 全局变量（以$开头）
    2. 类变量（以@@开头）
    3. 实例变量（以@开头）
    4. 局部变量（以下划线或小写字母开头）

* 未初始化的变量

    通常来说，需要在使用变量前进行初始化，否则
    
    1. 类变量：NameError
    2. 实例变量：nil，若使用-w，则会警告
    3. 全局变量：nil，若使用-w，则会警告
    4. 局部变量：情况复杂

### 常量引用

* 普通常量：大写，并用下划线分割，如`LIKE_THIS`
* 类名、模块名：也是常量，采用驼峰式写法，如`LikeThis`

因为常量可以在类或模块中，所以需要使用`::`来索引其中的常量，如

    Conversions::Area::HECTAGE_PER_AREA
    
当`::`左边为空时，指全局常量，实际上是`Object`的省略，即

    ::ARGV         # 等于Object::ARGV

### 方法调用

方法的调用分成四部分：

1. 调用方法的对象，加上`.`（常用）或`::`。省略时，在self基础上执行。
2. 方法名。唯一必须存在。
3. 参数。`(参数1，参数2)`
4. 代码块。花括号或者`do/end`块。

### 赋值

### 操作符

* 算数：`+, -, *, /, **, %`
* 移位或追加：`<<, >>`
* 补、并、交、非：`~, |, &, ^`
* 比较：`<. <=, >, >=, <=>`
* 相等性：`=, =~, !=, ===`
* 布尔：`&&, ||, !`; `and, or, not`（后面三个是低优先级版本）
* 范围：`…`
* 条件：`?:`
* 赋值：`:`
* defined?：例如`if defined? f(x)`
* 语句修饰符：`if, unless, while`等
* 非操作符：`(), [], {}, ., ::, ;, =>`等


